# ุจูุจูุฏูุง ูุชู ุฒูููโุง ููุดููุฏ

## ุฎูุงุตู ุชุบุฑุงุช

ุงู ุณูุฏ ุชุบุฑุงุช ุงุนูุงู ุดุฏู ุจุฑุง ุจูุจูุฏ ูุชู ุฒูููโุง ููุดููุฏ ุฏุฑ GraphRAG ุฑุง ุชูุถุญ ูโุฏูุฏ.

## ูุดฺฉูุงุช ูุจู

### 1. ุชูุตู ูุจูุฏู ูุชู
- **ูุดฺฉู:** ููุท ุขูุงุฑ ู ูุณุช ููุฏูุง/ุงูโูุง ุจุฏูู ุชูุถุญ ูุนูุงุฏุงุฑ
- **ูุซุงู:** `Gene: 11 ููุฏ (TP53RK, GTF2H5, SMAD2)` - ููุท ูุณุช ุจุฏูู ุชูุถุญ

### 2. ุนุฏู ูุฌูุฏ ูุณุฑ ุจุงุฒุงุจโุดุฏู
- **ูุดฺฉู:** `ูุณุฑูุง ุจุงุฒุงุจ ุดุฏู: 0` ุจุฏูู ุชูุถุญ ุนูุช
- **ูุชุฌู:** ุนุฏู ุงูฺฉุงู ุชุญูู causality ุง biological mechanism

### 3. ุงุตุทูุงุญุงุช ูู ุจุฏูู ุชุนุฑู
- **ูุดฺฉู:** ุงุณุชูุงุฏู ุงุฒ `DaG, DuG, DdG` ุจุฏูู ุชูุถุญ ูุนูุง ุขูโูุง
- **ูุชุฌู:** ุจโูุนูุง ุจูุฏู ุจุฑุง ูุฏู ุฒุจุงู

### 4. ุงุณุชูุชุงุฌุงุช ุฒุณุช ุณุทุญ
- **ูุดฺฉู:** ุฌููุงุช ฺฉู ูุซู "ุณูุงู ูุฑุจูุท ุจู ุจูุงุฑโูุง ู ูฺฉุงูุณูโูุง ูพุงุชูููฺฺฉ"
- **ูุชุฌู:** ุนุฏู ุงุฑุงุฆู ุชุญูู ุฎุงุต ู ููุฏ

### 5. ุนุฏู ุชูุฑฺฉุฒ ุฑู ฺฏุฑู ูุฑฺฉุฒ
- **ูุดฺฉู:** ุนุฏู ุงุดุงุฑู ุจู ฺู ูุฑฺฉุฒ (ูุซู TP53) ู ููุด ุขู
- **ูุชุฌู:** ุนุฏู ุฏุฑฺฉ ุงุฑุชุจุงุท ุจุง ุณูุงู ุงุตู

## ุฑุงูฺฉุงุฑูุง ูพุงุฏูโุณุงุฒ ุดุฏู

### 1. ุฏฺฉุดูุฑโูุง ุชูุถุญุงุช

#### METAEDGE_DESCRIPTIONS
```python
METAEDGE_DESCRIPTIONS = {
    "DaG": "DiseaseโassociatesโGene: ุงุฑุชุจุงุท ุจูุงุฑ ุจุง ฺู",
    "AeG": "AnatomyโexpressesโGene: ุจุงู ฺู ุฏุฑ ุจุงูุช",
    "GiG": "GeneโinteractsโGene: ุชุนุงูู ฺูโูุง",
    # ... ู ููุงุฑุฏ ุฏฺฏุฑ
}
```

#### BIOLOGICAL_ROLES
```python
BIOLOGICAL_ROLES = {
    "TP53": "ุณุฑฺฉูุจโฺฏุฑ ุชูููุฑ ู ุชูุธูโฺฉููุฏู ฺุฑุฎู ุณููู",
    "BRCA1": "ุชุฑูู DNA ู ุณุฑฺฉูุจโฺฏุฑ ุชูููุฑ",
    "SMAD2": "ุชูุธูโฺฉููุฏู ูุณุฑ TGF-beta",
    # ... ู ููุงุฑุฏ ุฏฺฏุฑ
}
```

#### DISEASE_SIGNIFICANCE
```python
DISEASE_SIGNIFICANCE = {
    "malignant glioma": "ฺฏููู ุจุฏุฎู ูุบุฒ",
    "breast cancer": "ุณุฑุทุงู ูพุณุชุงู",
    # ... ู ููุงุฑุฏ ุฏฺฏุฑ
}
```

### 2. ุชูุงุจุน ฺฉูฺฉ ุฌุฏุฏ

#### `_identify_central_gene()`
- ุดูุงุณุง ฺู ูุฑฺฉุฒ ุจุฑ ุงุณุงุณ ุณูุงู ู ููุฏูุง ุจุงุฒุงุจโุดุฏู
- ุงูููุช ุจู ฺูโูุง ููู ุฒุณุช

#### `_create_path_description()`
- ุชููุฏ ุชูุถุญ ุชูุตู ุจุฑุง ูุณุฑูุง
- ุชุจุฏู ูุณุฑ ุฎุงู ุจู ุฌููุงุช ูุนูุงุฏุงุฑ

#### `_create_biological_inference()`
- ุชููุฏ ุงุณุชูุชุงุฌ ุฒุณุช ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ูุงูุน
- ุชุญูู ฺูโูุง ูููุ ุจูุงุฑโูุงุ ูุณุฑูุง ู ุฑูุงุจุท

### 3. ุชุงุจุนโูุง ุจูุจูุฏ ุงูุชู

#### `_create_enhanced_intelligent_context_text()`
- ูุชู ุฒูููโุง ฺฉุงููุงู ุจูุจูุฏ ุงูุชู
- ุดุงูู ุชูุงู ุจูุจูุฏูุง ูพุดููุงุฏ

#### `_create_biological_pathway_context()` (ุจูุจูุฏ ุงูุชู)
- ุชุญูู ูุณุฑูุง ุฒุณุช ุจุง ุชูุถุญุงุช ุชูุตู
- ูุดุฏุงุฑ ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ูุณุฑ

#### `_create_mechanistic_detailed_context()` (ุจูุจูุฏ ุงูุชู)
- ุชุญูู ูฺฉุงูุณู ุจุง ุชูุถุญุงุช ฺฉุงูู
- ุชูุฑฺฉุฒ ุฑู ฺู ูุฑฺฉุฒ

## ููููู ุฎุฑูุฌ ุจูุจูุฏ ุงูุชู

### ูุจู ุงุฒ ุจูุจูุฏ:
```
๐ ุชุญูู ุขูุงุฑ ูพุดุฑูุชู:
โข ููุฏูุง ุจุงุฒุงุจ ุดุฏู: 5
โข ุงูโูุง ุจุงุฒุงุจ ุดุฏู: 4
โข ูุณุฑูุง ุจุงุฒุงุจ ุดุฏู: 0

๐ท๏ธ ุชุญูู ููุนโุดูุงุณ ููุฏูุง:
โข Gene: 2 ููุฏ (TP53, SMAD2)

๐ ุชุญูู ุฑูุงุจุท ูุนูุงุฏุงุฑ:
โข DaG: 2 ุฑุงุจุทู (ุฑุงุจุทู ุบุงูุจ)
โข GiG: 1 ุฑุงุจุทู

๐งฌ ุงุณุชูุชุงุฌุงุช ุฒุณุช:
โข ุณูุงู ูุฑุจูุท ุจู ุจูุงุฑโูุง ู ูฺฉุงูุณูโูุง ูพุงุชูููฺฺฉ
โข ุชูุฑฺฉุฒ ุจุฑ ุฑูุงุจุท DaG, DuG, DdG ู DlA
```

### ุจุนุฏ ุงุฒ ุจูุจูุฏ:
```
๐งฌ ุชุญูู ุนูู ูพุดุฑูุชู ุจุฑุง ุณูุงู: What is the relationship between TP53 and cancer?

๐ฌ ฺู ูุฑฺฉุฒ: TP53
ููุด ุฒุณุช: ุณุฑฺฉูุจโฺฏุฑ ุชูููุฑ ู ุชูุธูโฺฉููุฏู ฺุฑุฎู ุณููู

๐ ุฎูุงุตู ุขูุงุฑ:
โข ุชุนุฏุงุฏ ููุฏูุง ุจุงุฒุงุจ ุดุฏู: 5
โข ุชุนุฏุงุฏ ุงูโูุง ุจุงุฒุงุจ ุดุฏู: 4
โข ุชุนุฏุงุฏ ูุณุฑูุง ุจุงุฒุงุจ ุดุฏู: 3

๐ท๏ธ ุชุญูู ููุฏูุง:
โข **Gene:** 2 ููุฏ
  ูููููโูุง: TP53, SMAD2
  **ฺูโูุง ููู:**
    - TP53: ุณุฑฺฉูุจโฺฏุฑ ุชูููุฑ ู ุชูุธูโฺฉููุฏู ฺุฑุฎู ุณููู
    - SMAD2: ุชูุธูโฺฉููุฏู ูุณุฑ TGF-beta

โข **Disease:** 1 ููุฏ
  ูููููโูุง: malignant glioma
    - malignant glioma: ฺฏููู ุจุฏุฎู ูุบุฒ

๐ ุชุญูู ุฑูุงุจุท:
โข **DiseaseโassociatesโGene: ุงุฑุชุจุงุท ุจูุงุฑ ุจุง ฺู** (2 ุฑุงุจุทู)
  - TP53 โ malignant_glioma
  - SMAD2 โ malignant_glioma

โข **GeneโinteractsโGene: ุชุนุงูู ฺูโูุง** (1 ุฑุงุจุทู)
  - TP53 โ SMAD2

๐ค๏ธ ุชุญูู ูุณุฑูุง:
ูุณุฑูุง ุฒุณุช ุดูุงุณุง ุดุฏู:

**ูุณุฑ 1** (3 ฺฏุงู):
  TP53 โ SMAD2 โ malignant_glioma
  **ุชูุถุญ ุฒุณุช:** TP53 ุชุนุงูู ฺูโูุง SMAD2 ู SMAD2 ุงุฑุชุจุงุท ุจูุงุฑ ุจุง ฺู malignant_glioma

๐งฌ ุงุณุชูุชุงุฌ ุฒุณุช:
ฺู TP53 ฺฉู ุณุฑฺฉูุจโฺฏุฑ ุชูููุฑ ู ุชูุธูโฺฉููุฏู ฺุฑุฎู ุณููู ุงุณุชุ ุฏุฑ ุงู ุณูุงู ููุด ฺฉูุฏ ุฏุงุฑุฏ. ุจูุงุฑ malignant_glioma (ฺฏููู ุจุฏุฎู ูุบุฒ) ุฏุฑ ุงู ุชุญูู ููุฑุฏ ุจุฑุฑุณ ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช. 3 ูุณุฑ ุฒุณุช ูุฎุชูู ุดูุงุณุง ุดุฏ ฺฉู ูุดุงูโุฏููุฏู ูพฺุฏฺฏ ุฑูุงุจุท ุฒุณุช ุงุณุช. ุฑุงุจุทู ุบุงูุจ ุฏุฑ ุงู ุชุญูู DiseaseโassociatesโGene: ุงุฑุชุจุงุท ุจูุงุฑ ุจุง ฺู ุงุณุช ฺฉู 2 ุจุงุฑ ูุดุงูุฏู ุดุฏู ุงุณุช.
```

## ูุฒุงุง ุจูุจูุฏูุง

### 1. ุชูุตู ุจูุฏู
- ุชุจุฏู ุขูุงุฑ ุฎุงู ุจู ุฌููุงุช ุชูุตู
- ุชูุถุญ ููุด ุฒุณุช ูุฑ ฺู ู ุจูุงุฑ

### 2. ุชุญูู ูุณุฑูุง
- ููุงุด ูุณุฑูุง ุจุงุฒุงุจโุดุฏู ุจุง ุชูุถุญุงุช
- ูุดุฏุงุฑ ู ุฑุงูููุง ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ ูุณุฑ

### 3. ุชูุถุญ ุงุตุทูุงุญุงุช
- ุชุจุฏู ูุฎููโูุง ุจู ุชูุถุญุงุช ฺฉุงูู
- ูุงุจู ููู ุจุฑุง ูุฏู ุฒุจุงู

### 4. ุงุณุชูุชุงุฌุงุช ูุงูุน
- ุชุญูู ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ููุฌูุฏ
- ุงุณุชูุชุงุฌุงุช ุนูู ู ูุนูุงุฏุงุฑ

### 5. ุชูุฑฺฉุฒ ุฑู ฺฏุฑู ูุฑฺฉุฒ
- ุดูุงุณุง ู ูุนุฑู ฺู ูุฑฺฉุฒ
- ุชูุถุญ ููุด ุฒุณุช ุขู

## ูุญูู ุงุณุชูุงุฏู

### 1. ุงุณุชูุงุฏู ุงุฒ ุชุงุจุน ุฌุฏุฏ
```python
# ุงุณุชูุงุฏู ุงุฒ ูุชู ุฒูููโุง ุจูุจูุฏ ุงูุชู
enhanced_context = service._create_enhanced_intelligent_context_text(retrieval_result)
```

### 2. ุชุณุช ุจูุจูุฏูุง
```python
# ุงุฌุฑุง ุชุณุช
python test_enhanced_context.py
```

### 3. ุชูุธู ูพุดโูุฑุถ
```python
# ุชูุธู ูุชู ุฒูููโุง ุจูุจูุฏ ุงูุชู ุจู ุนููุงู ูพุดโูุฑุถ
text_generation_type = 'INTELLIGENT'  # ุงุฒ ุชุงุจุน ุจูุจูุฏ ุงูุชู ุงุณุชูุงุฏู ูโฺฉูุฏ
```

## ูุชุฌูโฺฏุฑ

ุงู ุจูุจูุฏูุง ุจุงุนุซ ูโุดููุฏ ฺฉู:

1. **ูุชู ุฒูููโุง ุจุฑุง LLM ููุฏุชุฑ ุจุงุดุฏ** - ุดุงูู ุชูุถุญุงุช ุนูู ู ูุนูุงุฏุงุฑ
2. **ุชุญููโูุง ุนููโุชุฑ ุจุงุดูุฏ** - ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ูุงูุน ู ูุณุฑูุง ุฒุณุช
3. **ูพุงุณุฎโูุง ุฏููโุชุฑ ุจุงุดูุฏ** - ุจุง ุชูุฑฺฉุฒ ุฑู ฺฏุฑู ูุฑฺฉุฒ ู ุฑูุงุจุท ูุนูุงุฏุงุฑ
4. **ฺฉุงุฑุจุฑุงู ุฑุงุถโุชุฑ ุจุงุดูุฏ** - ุจุง ุฏุฑุงูุช ุชุญููโูุง ุนูู ู ุชุฎุตุต

ุงู ุชุบุฑุงุช ฺฏุงู ููู ุฏุฑ ุจูุจูุฏ ฺฉูุช ูพุงุณุฎโูุง GraphRAG ู ุชุจุฏู ุขู ุจู ฺฉ ุงุจุฒุงุฑ ุนูู ู ุชุฎุตุต ุงุณุช. 
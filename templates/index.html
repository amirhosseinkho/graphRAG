<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GraphRAG - ุณุณุชู ุจุงุฒุงุจ ูุจุชู ุจุฑ ฺฏุฑุงู</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-brain"></i> GraphRAG</h1>
            <p>ุณุณุชู ุจุงุฒุงุจ ูุจุชู ุจุฑ ฺฏุฑุงู ุจุฑุง ุนููู ุฒุณุช</p>
        </header>

        <!-- Navigation -->
        <nav class="nav-menu">
            <a href="/" class="nav-link active">
                <i class="fas fa-home"></i> ุตูุญู ุงุตู
            </a>
            <a href="/upload_graph" class="nav-link">
                <i class="fas fa-upload"></i> ุขูพููุฏ ฺฏุฑุงู
            </a>
            <a href="/manage_graphs" class="nav-link">
                <i class="fas fa-list"></i> ูุฏุฑุช ฺฏุฑุงูโูุง
            </a>
            <a href="/evaluation" class="nav-link">
                <i class="fas fa-chart-bar"></i> ุงุฑุฒุงุจ
            </a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Query Section -->
            <section class="query-section">
                <div class="query-form">
                    <h2><i class="fas fa-question-circle"></i> ุณูุงู ุฎูุฏ ุฑุง ุจูพุฑุณุฏ</h2>
                    
                    <div class="form-group">
                        <label for="query">ุณูุงู:</label>
                        <textarea id="query" placeholder="ูุซุงู: What is the relationship between HMGB3 and diabetes?" rows="3"></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="retrieval-method">ุฑูุด ุจุงุฒุงุจ:</label>
                            <select id="retrieval-method">
                                <option value="NO_RETRIEVAL">ุจุฏูู ุจุงุฒุงุจ (ููุท ูุฏู)</option>
                                <option value="BFS">BFS (ุฌุณุชุฌู ุณุทุญ ุงูู)</option>
                                <option value="DFS">DFS (ุฌุณุชุฌู ุนูู ุงูู)</option>
                                <option value="SHORTEST_PATH">ฺฉูุชุงูโุชุฑู ูุณุฑ</option>
                                <option value="NEIGHBORS">ููุณุงูโูุง</option>
                                <option value="HYBRID">ุชุฑฺฉุจ</option>
                                <option value="MULTI_METHOD">ฺูุฏ ุฑูุด (Multi-Method)</option>
                                <option value="ENSEMBLE">ฺฏุฑูู (Ensemble)</option>
                                <option value="ADAPTIVE">ุชุทุจู (Adaptive)</option>
                                <option value="INTELLIGENT">ุฌุณุชุฌู ูุนูุง ููุดููุฏ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="generation-model">ูุฏู ุชููุฏ ูุชู:</label>
                            <select id="generation-model">
                                <optgroup label="๐ค ูุฏูโูุง ูุญู ู ุฑุงฺฏุงู">
                                    <option value="GENERAL_SIMPLE">General Simple (ูพุงุณุฎ ุณุงุฏู ู ุนููู) โญ</option>
                                    <option value="SIMPLE">Simple Template</option>
                                    <option value="GPT_SIMULATION">GPT Simulation</option>
                                    <option value="CUSTOM">Custom Model</option>
                                    <option value="HUGGINGFACE">HuggingFace Models (ุฑุงฺฏุงู)</option>
                                </optgroup>
                                
                                <optgroup label="๐ OpenAI GPT Models">
                                    <option value="OPENAI_GPT_4O">GPT-4o (ุฌุฏุฏุชุฑู ู ููโุชุฑู) ๐</option>
                                    <option value="OPENAI_GPT_4O_MINI">GPT-4o Mini (ุณุฑุน ู ุงูุชุตุงุฏ)</option>
                                    <option value="OPENAI_GPT_4_TURBO">GPT-4 Turbo (ุชุนุงุฏู ุณุฑุนุช ู ฺฉูุช)</option>
                                    <option value="OPENAI_GPT_4">GPT-4 (ฺฉูุช ุจุงูุง)</option>
                                    <option value="OPENAI_GPT_3_5_TURBO">GPT-3.5 Turbo (ุณุฑุน ู ุงูุชุตุงุฏ)</option>
                                    <option value="OPENAI_GPT_3_5_TURBO_16K">GPT-3.5 Turbo 16K (ูุชู ุทููุงู)</option>
                                </optgroup>
                                
                                <optgroup label="๐ง Anthropic Claude Models">
                                    <option value="ANTHROPIC_CLAUDE_3_5_SONNET">Claude 3.5 Sonnet (ุฌุฏุฏุชุฑู)</option>
                                    <option value="ANTHROPIC_CLAUDE_3_5_HAIKU">Claude 3.5 Haiku (ุณุฑุน)</option>
                                    <option value="ANTHROPIC_CLAUDE_3_OPUS">Claude 3 Opus (ููโุชุฑู)</option>
                                    <option value="ANTHROPIC_CLAUDE_3_SONNET">Claude 3 Sonnet (ุชุนุงุฏู)</option>
                                    <option value="ANTHROPIC_CLAUDE_3_HAIKU">Claude 3 Haiku (ุณุฑุน)</option>
                                </optgroup>
                                
                                <optgroup label="๐ Google Gemini Models">
                                    <option value="GOOGLE_GEMINI_1_5_PRO">Gemini 1.5 Pro (ุฌุฏุฏุชุฑู)</option>
                                    <option value="GOOGLE_GEMINI_1_5_FLASH">Gemini 1.5 Flash (ุณุฑุน)</option>
                                    <option value="GOOGLE_GEMINI_1_0_PRO">Gemini 1.0 Pro (ูพุงุฏุงุฑ)</option>
                                    <option value="GOOGLE_GEMINI_1_0_FLASH">Gemini 1.0 Flash (ุณุฑุน)</option>
                                </optgroup>
                                
                                <optgroup label="๐ ุณุงุฑ ูุฏูโูุง ูพุดุฑูุชู">
                                    <option value="META_LLAMA_3_1">Meta Llama 3.1 (ูุญู)</option>
                                    <option value="MISTRAL_AI">Mistral AI (ฺฉูุช ุจุงูุง)</option>
                                    <option value="COHERE_COMMAND">Cohere Command (ุชุฎุตุต)</option>
                                    <option value="PERPLEXITY_SONAR">Perplexity Sonar (ุฌุณุชุฌูฺฏุฑ)</option>
                                </optgroup>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="text-generation-type">ููุน ุชููุฏ ูุชู:</label>
                            <select id="text-generation-type">
                                <option value="SIMPLE">ูุชู ุณุงุฏู ุนููู</option>
                                <option value="INTELLIGENT" selected>ูุชู ุชุฎุตุต ููุดููุฏ</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="max-depth">ุญุฏุงฺฉุซุฑ ุนูู:</label>
                            <input type="number" id="max-depth" min="1" max="5" value="2">
                        </div>
                    </div>

                    <div class="form-actions">
                        <button id="submit-btn" class="btn btn-primary">
                            <i class="fas fa-search"></i> ูพุฑุฏุงุฒุด ุณูุงู
                        </button>
                        <button id="sample-btn" class="btn btn-secondary">
                            <i class="fas fa-random"></i> ุณูุงู ููููู
                        </button>
                        <button id="config-btn" class="btn btn-info">
                            <i class="fas fa-cog"></i> ุชูุธูุงุช
                        </button>
                    </div>
                </div>
            </section>

            <!-- Configuration Modal -->
            <div id="config-modal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-cog"></i> ุชูุธูุงุช ุณุณุชู</h3>
                        <span class="close">&times;</span>
                    </div>
                    <div class="modal-body">
                        <!-- Presets Section -->
                        <div class="presets-section">
                            <h4><i class="fas fa-preset-bottle"></i> ูพุดโุชูุธูุงุช</h4>
                            <div class="preset-buttons">
                                <button class="preset-btn" data-preset="fast">
                                    <i class="fas fa-bolt"></i> ุณุฑุน
                                </button>
                                <button class="preset-btn" data-preset="balanced">
                                    <i class="fas fa-balance-scale"></i> ูุชูุงุฒู
                                </button>
                                <button class="preset-btn" data-preset="comprehensive">
                                    <i class="fas fa-search-plus"></i> ุฌุงูุน
                                </button>
                                <button class="preset-btn" data-preset="research">
                                    <i class="fas fa-microscope"></i> ุชุญููุงุช
                                </button>
                            </div>
                        </div>

                        <!-- Advanced Settings -->
                        <div class="advanced-settings">
                            <h4><i class="fas fa-sliders-h"></i> ุชูุธูุงุช ูพุดุฑูุชู</h4>
                            
                            <div class="settings-grid">
                                <div class="setting-group">
                                    <label for="max-nodes">ุญุฏุงฺฉุซุฑ ููุฏูุง:</label>
                                    <input type="number" id="max-nodes" min="1" max="50" value="10">
                                    <span class="setting-description">ุชุนุฏุงุฏ ููุฏูุง ุจุงุฒุงุจ ุดุฏู</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-edges">ุญุฏุงฺฉุซุฑ ุงูโูุง:</label>
                                    <input type="number" id="max-edges" min="1" max="100" value="20">
                                    <span class="setting-description">ุชุนุฏุงุฏ ุงูโูุง ุจุงุฒุงุจ ุดุฏู</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-depth-config">ุญุฏุงฺฉุซุฑ ุนูู:</label>
                                    <input type="number" id="max-depth-config" min="1" max="10" value="3">
                                    <span class="setting-description">ุนูู ุฌุณุชุฌู ุฏุฑ ฺฏุฑุงู</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-paths">ุญุฏุงฺฉุซุฑ ูุณุฑูุง:</label>
                                    <input type="number" id="max-paths" min="1" max="20" value="5">
                                    <span class="setting-description">ุชุนุฏุงุฏ ูุณุฑูุง ุงูุช ุดุฏู</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-context-length">ุญุฏุงฺฉุซุฑ ุทูู ูุชู ุฒููู:</label>
                                    <input type="number" id="max-context-length" min="500" max="5000" value="2000">
                                    <span class="setting-description">ุทูู ูุชู ุฒููู (ฺฉุงุฑุงฺฉุชุฑ)</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-answer-tokens">ุญุฏุงฺฉุซุฑ ุชูฺฉูโูุง ูพุงุณุฎ:</label>
                                    <input type="number" id="max-answer-tokens" min="100" max="3000" value="1000">
                                    <span class="setting-description">ุทูู ูพุงุณุฎ ุชููุฏ ุดุฏู</span>
                                </div>

                                <div class="setting-group">
                                    <label for="max-prompt-tokens">ุญุฏุงฺฉุซุฑ ุชูฺฉูโูุง ูุฑูุฏ:</label>
                                    <input type="number" id="max-prompt-tokens" min="1000" max="10000" value="4000">
                                    <span class="setting-description">ุทูู ูุชู ูุฑูุฏ ุจู ูุฏู</span>
                                </div>
                            </div>

                            <div class="boolean-settings">
                                <div class="setting-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="enable-verbose-logging" checked>
                                        <span class="checkmark"></span>
                                        ููุงุด ุฌุฒุฆุงุช
                                    </label>
                                    <span class="setting-description">ููุงุด ุงุทูุงุนุงุช ุงุถุงู ุฏุฑ ุฎุฑูุฌ</span>
                                </div>

                                <div class="setting-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="enable-biological-enrichment" checked>
                                        <span class="checkmark"></span>
                                        ุบูโุณุงุฒ ุฒุณุช
                                    </label>
                                    <span class="setting-description">ุงุถุงูู ฺฉุฑุฏู ุงุทูุงุนุงุช ุฒุณุช ุจู ูพุงุณุฎ</span>
                                </div>

                                <div class="setting-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="enable-smart-filtering" checked>
                                        <span class="checkmark"></span>
                                        ููุชุฑ ููุดููุฏ
                                    </label>
                                    <span class="setting-description">ููุชุฑ ฺฉุฑุฏู ูุชุงุฌ ุบุฑูุฑุชุจุท</span>
                                </div>
                            </div>
                        </div>

                        <!-- Current Config Display -->
                        <div class="current-config">
                            <h4><i class="fas fa-info-circle"></i> ุชูุธูุงุช ูุนู</h4>
                            <div id="current-config-display" class="config-display"></div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button id="save-config-btn" class="btn btn-primary">
                            <i class="fas fa-save"></i> ุฐุฎุฑู ุชูุธูุงุช
                        </button>
                        <button id="reset-config-btn" class="btn btn-secondary">
                            <i class="fas fa-undo"></i> ุจุงุฒูุดุงู
                        </button>
                        <button id="close-config-btn" class="btn btn-light">
                            <i class="fas fa-times"></i> ุจุณุชู
                        </button>
                    </div>
                </div>
            </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="results-section" style="display: none;">
                <div class="results-container">
                    <!-- Process Steps -->
                    <div class="process-steps">
                        <h3><i class="fas fa-cogs"></i> ูุฑุงุญู ูพุฑุฏุงุฒุด</h3>
                        <div id="process-steps" class="steps-list"></div>
                    </div>

                    <!-- Keywords -->
                    <div class="keywords-section">
                        <h3><i class="fas fa-tags"></i> ฺฉููุงุช ฺฉูุฏ ุงุณุชุฎุฑุงุฌ ุดุฏู</h3>
                        <div id="keywords" class="keywords-list"></div>
                    </div>

                    <!-- Matched Nodes -->
                    <div class="matched-nodes">
                        <h3><i class="fas fa-link"></i> ููุฏูุง ุชุทุจู ุงูุชู</h3>
                        <div id="matched-nodes" class="nodes-list"></div>
                    </div>

                    <!-- Retrieved Information -->
                    <div class="retrieved-info">
                        <h3><i class="fas fa-database"></i> ุงุทูุงุนุงุช ุจุงุฒุงุจ ุดุฏู</h3>
                        <div class="info-tabs">
                            <button class="tab-btn active" data-tab="nodes">ููุฏูุง</button>
                            <button class="tab-btn" data-tab="edges">ุงูโูุง</button>
                            <button class="tab-btn" data-tab="paths">ูุณุฑูุง</button>
                            <button class="tab-btn" data-tab="context">ูุชู ุฒููู</button>
                        </div>
                        
                        <div class="tab-content">
                            <div id="tab-nodes" class="tab-pane active">
                                <div id="retrieved-nodes" class="nodes-grid"></div>
                            </div>
                            <div id="tab-edges" class="tab-pane">
                                <div id="retrieved-edges" class="edges-list"></div>
                            </div>
                            <div id="tab-paths" class="tab-pane">
                                <div id="retrieved-paths" class="paths-list"></div>
                            </div>
                            <div id="tab-context" class="tab-pane">
                                <pre id="context-text" class="context-text"></pre>
                            </div>
                        </div>
                    </div>

                    <!-- Answer -->
                    <div class="answer-section">
                        <h3><i class="fas fa-comment"></i> ูพุงุณุฎ ุชููุฏ ุดุฏู</h3>
                        <div class="answer-container">
                            <div id="answer-text" class="answer-text"></div>
                            <div class="answer-meta">
                                <span class="confidence">
                                    <i class="fas fa-chart-line"></i>
                                    ุงุทููุงู: <span id="confidence-score"></span>
                                </span>
                                <span class="model">
                                    <i class="fas fa-robot"></i>
                                    ูุฏู: <span id="model-name"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Graph Info -->
            <section class="graph-info">
                <h3><i class="fas fa-project-diagram"></i> ุงุทูุงุนุงุช ฺฏุฑุงู</h3>
                <div id="graph-stats" class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="total-nodes">-</div>
                        <div class="stat-label">ฺฉู ููุฏูุง</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="total-edges">-</div>
                        <div class="stat-label">ฺฉู ุงูโูุง</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="node-types">-</div>
                        <div class="stat-label">ุงููุงุน ููุฏ</div>
                    </div>
                </div>
                <div id="node-types-chart" class="chart-container"></div>
            </section>
        </main>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <p>ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด...</p>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html> 